# Test Study

udemy에서 테스팅 라이브러리 강의를 듣고 정리한 내용

## TDD(Test-Driven Development)

- 코드 작성 전에 테스트를 작성하고, 테스트에 통과하도록 코드를 작성

1. 빈 함수나, 빈 함수 컴포넌트 작성
2. 그에 따른 테스트 작성
3. 테스트 돌리면 실패
4. 코드 작성
5. 테스트 통과

## 왜 TDD?

- 테스트를 작성하는 것이 프로세스의 한 부분이라 생각
- 효율적(코드 작성 전에 테스트를 작성하면 코드 변경 후 자동으로 테스트 실행 가능 / 수동테스트 필요 없음)

## RTD(React Testing Liabrary)

- 테스트를 위한 가상 DOM 생성, DOM과 상호작용을 위한 유틸리티 제공
- 브라우저 없이도 테스트 가능

## 테스트 유형

- Unit Test(단위 테스트)
  - 함수나 별개의 리액트 컴포넌트 코드의 한 유닛 또는 단위를 테스트하는 것
- Integration test(통합 테스트)
  - 여러 유닛이 함께 작동하는 방식을 테스트(유닛 간의 상호 작용을 테스트)
- Functional Test(기능 테스트)
  - 소프트웨어의 특정 기능(소프트웨어의 일반적인 동작) 테스트
  - 동작을 테스트하는 것
- E2E(End-to-end) Test
  - 실제 브라우저가 필요하고, 애플리케이션이 연결된 서버가 필요함
  - 보통 Cypress, Selenium 같은 도구가 필요

## 유닛 테스트 vs 기능 테스트

- 유닛 테스트
  - 테스트를 최대한 격리시킴
  - 다른 의존하는 함수가 있을 경우, 실제 버전 대신 테스트 버전을 사용함
  - 격리된 유닛에서 실패를 쉽고 정확하게 파악할 수 있음
  - 사용자가 소프트웨어와 상호 작용하는 방식과 거리가 멈
  - 리팩토링으로 테스트가 실패할 수 있음
- 기능 테스트
  - 테스트하는 특정 동작이나 유저 플로우와 연관된 모든 단위를 포함
  - 사용자가 소프트웨어와 상호작용하는 방식과 밀접함
  - 리팩토링 시, 동작이 동일하게 유지되는 한 테스트도 통과됨
  - 실패한 테스트로 디버그하기 어려움

## 언제 유닛 테스트를 하나?

- 복잡한 함수의 경우 유닛 테스트를 통해 가능한 모든 엣지 케이스를 확인 가능
- 기능 테스트의 실패 원인을 판단하려는 경우

## fireEvent vs user-event

- fireEvent
  - DOM 이벤트 디스패치
  - 컴퓨터 이벤트 시뮬레이션
- user-event
  - 모든 상호 작용을 시뮬레이션
  - 항상 Promise를 반환

## screen query methods

- command
  - get: DOM 내에 있을 거라 예상되는 element
  - query: DOM 내에 없을 거라 예상되는 element
  - find: element가 비동기적으로 나타날 경우를 예상
- QueryType
  - Role
  - AltText
  - Text
  - Form elements
    - PlaceholderText
    - LabelText
    - DisplayValue
